# 권한인가

이석찬의 권한 정책은 역할 기반 접근 제어 모델(Role-based Access Control, RBAC)를 따릅니다.&#x20;

사용자와 역할을 1:1 관계이며 각 역할에 아래와 같은 역할 비트 플래그를 지정할 수 있습니다.

| 이름             | 내                                                                           | 비트  |
| -------------- | --------------------------------------------------------------------------- | --- |
| 접근 권한 플래그      | 이석 신청 / 이석 관리 / 이석 확인 / API / 관리자 페이지 / 기숙사 관리 / 학생 벌점 관리 페이지 접근 권한을 설정합니다. | 8   |
| 이석 상태 변경 권한 플래 | 1단계 / 2단계 / 3단계 / 4단계 / 5단계 이석 상태를 설정할 수 있는 권한을 설합니다.                       | 5   |
| 파일 접근 권한 플래    | 이석찬에 업로드 된 파일에 접근할 수 있는 권한을 설정합니다.                                          | 12  |

각 비트 플래그에 대한 자세한 내용은 아래와 같습니다.

#### 1. 접근 권한 플래그

| 상수 이름                             | 비트       | 정수  | 설          |
| --------------------------------- | -------- | --- | ---------- |
| FLAG\_PERM\_ACCESS\_ISEOK\_APPLY  | 00000001 | 1   | 이석 신청 페이지  |
| FLAG\_PERM\_ACCESS\_ISEOK\_CHECK  | 00000010 | 2   | 이석 확인 페이지  |
| FLAG\_PERM\_ACCESS\_ISEOK\_MANAGE | 00000100 | 4   | 이석 관리 페이   |
| FLAG\_PERM\_ACCESS\_API           | 00001000 | 8   | 이석찬 API    |
| FLAG\_PERM\_ACCESS\_ADMIN         | 00010000 | 16  | 관리자 페이지    |
| FLAG\_PERM\_ACCESS\_DORMITORY     | 00100000 | 32  | 기숙사 관리 페이지 |
| FLAG\_PERM\_ACCESS\_PENALTY       | 01000000 | 64  | 벌점 관리 페이   |
| FLAG\_PERM\_ACCESS\_BLANK1        | 10000000 | 128 | 여분 비트 플래   |

#### 2. 이석 상태 변경 권한 플래 <a href="#1" id="1"></a>

| 상수 이름                                | 비트       | 정수 값 | 설명              |
| ------------------------------------ | -------- | ---- | --------------- |
| FLAG\_PERM\_ISEOK\_STATUS\_UPDATE\_1 | 00000001 | 1    | 이석 상태 1단계 설정 권한 |
| FLAG\_PERM\_ISEOK\_STATUS\_UPDATE\_2 | 00000010 | 2    | 이석 상태 2단계 설정 권한 |
| FLAG\_PERM\_ISEOK\_STATUS\_UPDATE\_3 | 00000100 | 4    | 이석 상태 3단계 설정 권한 |
| FLAG\_PERM\_ISEOK\_STATUS\_UPDATE\_4 | 00001000 | 8    | 이석 상태 4단계 설정 권한 |
| FLAG\_PERM\_ISEOK\_STATUS\_UPDATE\_5 | 00010000 | 16   | 이석 상태 5단계 설정 권한 |

#### 3. 파일 접근 권한 플래그

| 상수 이름                            | 비트           | 정수   | 설                 |
| -------------------------------- | ------------ | ---- | ----------------- |
| FLAG\_PERM\_FILE\_MY\_CREATE     | 000000000001 | 1    | 개인 파일에 대한 업로드 권한  |
| FLAG\_PERM\_FILE\_MY\_READ       | 000000000010 | 2    | 개인 파일에 대한 읽기 권한   |
| FLAG\_PERM\_FILE\_MY\_UPDATE     | 000000000100 | 4    | 개인 파일에 대한 수정 권한   |
| FLAG\_PERM\_FILE\_MY\_DELETE     | 000000001000 | 8    | 개인 파일에 대한 삭제 권한   |
| FLAG\_PERM\_FILE\_PUBLIC\_CREATE | 000000010000 | 16   | 공개 파일에 대한 업로드 권한  |
| FLAG\_PERM\_FILE\_PUBLIC\_READ   | 000000100000 | 32   | 공개 파일에 대한 읽기 권한   |
| FLAG\_PERM\_FILE\_PUBLIC\_UPDATE | 000001000000 | 64   | 공개 파일에 대한 수정 권한   |
| FLAG\_PERM\_FILE\_PUBLIC\_DELETE | 000010000000 | 128  | 공개 파일에 대한 삭제 권한   |
| FLAG\_PERM\_FILE\_SYSTEM\_CREATE | 000100000000 | 256  | 시스템 파일에 대한 업로드 권한 |
| FLAG\_PERM\_FILE\_SYSTEM\_READ   | 001000000000 | 512  | 시스템 파일에 대한 읽기 권한  |
| FLAG\_PERM\_FILE\_SYSTEM\_UPDATE | 010000000000 | 1024 | 시스템 파일에 대한 수정 권한  |
| FLAG\_PERM\_FILE\_SYSTEM\_DELETE | 100000000000 | 2048 | 시스템 파일에 대한 삭제 권한  |
